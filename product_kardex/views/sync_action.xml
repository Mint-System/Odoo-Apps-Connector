<odoo>
    <!-- Action definition -->
    <record id="action_product_template_custom_action" model="ir.actions.server">
        <field name="name">Sync</field>
        <field name="model_id" ref="product.model_product_template"/>
        <field name="state">code</field>
        <field name="code">model.sync_db()</field>
    </record>
</odoo>


<odoo>
    <record id="view_product_template_tree_inherit" model="ir.ui.view">
        <field name="name">product.template.tree.custom.action.menu</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_tree_view"/>
        <field name="arch" type="xml">
            <!-- Adding the action in the cog menu in the list view -->
            <xpath expr="//header" position="inside">
                <button name="sync_db"
                        string="Sync"
                        type="object"
                        class="btn-primary"
                        icon="fa-cog"/>
            </xpath>
        </field>
    </record>
</odoo>
